(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2988],{53457:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(63366),i=r(87462),a=r(67294),o=r(86010),s=r(94780),l=r(90948),c=r(71657),d=r(34867);function u(e){return(0,d.Z)("MuiFormGroup",e)}(0,r(1588).Z)("MuiFormGroup",["root","row","error"]);var p=r(74423),m=r(15704),h=r(85893);const f=["className","row"],x=(0,l.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.row&&t.row]}})((({ownerState:e})=>(0,i.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})));var g=a.forwardRef((function(e,t){const r=(0,c.Z)({props:e,name:"MuiFormGroup"}),{className:a,row:l=!1}=r,d=(0,n.Z)(r,f),g=(0,p.Z)(),v=(0,m.Z)({props:r,muiFormControl:g,states:["error"]}),Z=(0,i.Z)({},r,{row:l,error:v.error}),b=(e=>{const{classes:t,row:r,error:n}=e,i={root:["root",r&&"row",n&&"error"]};return(0,s.Z)(i,u,t)})(Z);return(0,h.jsx)(x,(0,i.Z)({className:(0,o.Z)(b.root,a),ownerState:Z,ref:t},d))}))},18972:function(e,t,r){"use strict";r.d(t,{Z:function(){return P}});var n=r(63366),i=r(87462),a=r(67294),o=r(86010),s=r(94780),l=r(41796),c=r(90948),d=r(71657),u=r(59773),p=r(49990),m=r(58974),h=r(51705),f=r(35097),x=r(84592),g=r(26336),v=r(34867);function Z(e){return(0,v.Z)("MuiMenuItem",e)}var b=(0,r(1588).Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),j=r(85893);const y=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],w=(0,c.ZP)(p.Z,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]}})((({theme:e,ownerState:t})=>(0,i.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${b.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${b.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${b.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${b.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${b.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${f.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${f.Z.inset}`]:{marginLeft:52},[`& .${g.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${g.Z.inset}`]:{paddingLeft:36},[`& .${x.Z.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,i.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${x.Z.root} svg`]:{fontSize:"1.25rem"}}))));var P=a.forwardRef((function(e,t){const r=(0,d.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:c="li",dense:p=!1,divider:f=!1,disableGutters:x=!1,focusVisibleClassName:g,role:v="menuitem",tabIndex:b}=r,P=(0,n.Z)(r,y),O=a.useContext(u.Z),C={dense:p||O.dense||!1,disableGutters:x},I=a.useRef(null);(0,m.Z)((()=>{l&&I.current&&I.current.focus()}),[l]);const D=(0,i.Z)({},r,{dense:C.dense,divider:f,disableGutters:x}),S=(e=>{const{disabled:t,dense:r,divider:n,disableGutters:a,selected:o,classes:l}=e,c={root:["root",r&&"dense",t&&"disabled",!a&&"gutters",n&&"divider",o&&"selected"]},d=(0,s.Z)(c,Z,l);return(0,i.Z)({},l,d)})(r),$=(0,h.Z)(I,t);let k;return r.disabled||(k=void 0!==b?b:-1),(0,j.jsx)(u.Z.Provider,{value:C,children:(0,j.jsx)(w,(0,i.Z)({ref:$,role:v,tabIndex:k,component:c,focusVisibleClassName:(0,o.Z)(S.focusVisible,g)},P,{ownerState:D,classes:S}))})}))},68061:function(e,t,r){"use strict";var n=r(87462),i=r(63366),a=r(67294),o=r(53457),s=r(51705),l=r(49299),c=r(80209),d=r(27909),u=r(85893);const p=["actions","children","defaultValue","name","onChange","value"],m=a.forwardRef((function(e,t){const{actions:r,children:m,defaultValue:h,name:f,onChange:x,value:g}=e,v=(0,i.Z)(e,p),Z=a.useRef(null),[b,j]=(0,l.Z)({controlled:g,default:h,name:"RadioGroup"});a.useImperativeHandle(r,(()=>({focus:()=>{let e=Z.current.querySelector("input:not(:disabled):checked");e||(e=Z.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const y=(0,s.Z)(t,Z),w=(0,d.Z)(f);return(0,u.jsx)(c.Z.Provider,{value:{name:w,onChange:e=>{j(e.target.value),x&&x(e,e.target.value)},value:b},children:(0,u.jsx)(o.Z,(0,n.Z)({role:"radiogroup",ref:y},v,{children:m}))})}));t.Z=m},30061:function(e,t,r){"use strict";r.r(t);var n=r(59499),i=r(25675),a=r(86886),o=r(50135),s=r(15861),l=r(5306),c=r(87357),d=r(94054),u=r(68061),p=r(50480),m=r(36872),h=r(18360),f=r(18972),x=r(11057),g=r(25613),v=r(52359),Z=r(87664),b=r(74231),j=r(82175),y=r(74026),w=r(62055),P=r(12686),O=r(83633),C=r(38617),I=r(85893);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $=b.Ry({title:b.Z_().required("Task title is required"),dueDate:b.hT()});t.default=function(e){var t=e.item,r=e.profiles,n=e.userStory,b=e.columns,D=e.handleDrawerOpen,k=(0,O.I0)(),F=(0,O.v9)((function(e){return e.kanban})).items,R=n.filter((function(e){return e.itemIds.filter((function(e){return e===t.id}))[0]}))[0],M=b.filter((function(e){return e.itemIds.filter((function(e){return e===t.id}))[0]}))[0],_=(0,j.TA)({enableReinitialize:!0,initialValues:{id:t.id,title:t.title,assign:t.assign,priority:t.priority,dueDate:t.dueDate?new Date(t.dueDate):new Date,description:t.description,commentIds:t.commentIds,image:t.image,storyId:R?R.id:"",columnId:M?M.id:"",attachments:t.attachments},validationSchema:$,onSubmit:function(e){var t={id:e.id,title:e.title,assign:e.assign,priority:e.priority,dueDate:e.dueDate?new Date(e.dueDate):new Date,description:e.description,commentIds:e.commentIds,image:e.image,attachments:e.attachments};k((0,C.Ob)(e.columnId,b,t,F,e.storyId,n)),k((0,P.ss)({open:!0,message:"Submit Success",variant:"alert",alert:{color:"success"},close:!1})),D()}});return(0,I.jsx)("form",{onSubmit:_.handleSubmit,children:(0,I.jsx)(v._,{dateAdapter:g.Z,children:(0,I.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,I.jsx)(a.ZP,{item:!0,xs:12,children:(0,I.jsx)(o.Z,{fullWidth:!0,id:"title",name:"title",label:"Title",value:_.values.title,onChange:_.handleChange,error:_.touched.title&&Boolean(_.errors.title),helperText:_.touched.title&&_.errors.title})}),(0,I.jsx)(a.ZP,{item:!0,xs:12,children:(0,I.jsxs)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,I.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,I.jsx)(s.Z,{variant:"subtitle1",children:"Assign to:"})}),(0,I.jsx)(a.ZP,{item:!0,xs:12,sm:8,children:(0,I.jsx)(a.ZP,{container:!0,justifyContent:"flex-start",children:(0,I.jsx)(l.Z,{id:"assign",value:r.find((function(e){return e.id===_.values.assign})),onChange:function(e,t){_.setFieldValue("assign",t.id)},options:r,fullWidth:!0,autoHighlight:!0,getOptionLabel:function(e){return e.name},isOptionEqualToValue:function(e){return e.id===_.values.assign},renderOption:function(e,t){return(0,I.jsxs)(c.Z,S(S({component:"li",sx:{"& > img":{mr:2,flexShrink:0}}},e),{},{children:[(0,I.jsx)(i.default,{loading:"lazy",width:"20",height:"20",src:"".concat("/assets/images/users","/").concat(t.avatar),alt:""}),t.name]}))},renderInput:function(e){return(0,I.jsx)(o.Z,S(S({},e),{},{name:"assign",label:"Choose a assignee",inputProps:S(S({},e.inputProps),{},{autoComplete:"new-password"})}))}})})})]})}),(0,I.jsx)(a.ZP,{item:!0,xs:12,children:(0,I.jsxs)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,I.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,I.jsx)(s.Z,{variant:"subtitle1",children:"Prioritize:"})}),(0,I.jsx)(a.ZP,{item:!0,xs:12,sm:8,children:(0,I.jsx)(d.Z,{children:(0,I.jsxs)(u.Z,{row:!0,"aria-label":"color",value:_.values.priority,onChange:_.handleChange,name:"priority",id:"priority",children:[(0,I.jsx)(p.Z,{value:"low",control:(0,I.jsx)(m.Z,{color:"primary",sx:{color:"primary.main"}}),label:"Low"}),(0,I.jsx)(p.Z,{value:"medium",control:(0,I.jsx)(m.Z,{color:"warning",sx:{color:"warning.main"}}),label:"Medium"}),(0,I.jsx)(p.Z,{value:"high",control:(0,I.jsx)(m.Z,{color:"error",sx:{color:"error.main"}}),label:"High"})]})})})]})}),(0,I.jsx)(a.ZP,{item:!0,xs:12,children:(0,I.jsxs)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,I.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,I.jsx)(s.Z,{variant:"subtitle1",children:"Due date:"})}),(0,I.jsx)(a.ZP,{item:!0,xs:12,sm:8,children:(0,I.jsx)(Z.$,{label:"Due Date",value:_.values.dueDate,inputFormat:"dd/MM/yyyy",onChange:function(e){_.setFieldValue("dueDate",e)},renderInput:function(e){return(0,I.jsx)(o.Z,S({fullWidth:!0},e))}})})]})}),(0,I.jsx)(a.ZP,{item:!0,xs:12,children:(0,I.jsxs)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,I.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,I.jsx)(s.Z,{variant:"subtitle1",children:"Description:"})}),(0,I.jsx)(a.ZP,{item:!0,xs:12,sm:8,children:(0,I.jsx)(o.Z,{fullWidth:!0,id:"description",name:"description",multiline:!0,rows:3,value:_.values.description,onChange:_.handleChange,error:_.touched.description&&Boolean(_.errors.description),helperText:_.touched.description&&_.errors.description})})]})}),(0,I.jsx)(a.ZP,{item:!0,xs:12,children:(0,I.jsxs)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,I.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,I.jsx)(s.Z,{variant:"subtitle1",children:"User Story:"})}),(0,I.jsx)(a.ZP,{item:!0,xs:12,sm:8,children:(0,I.jsx)(d.Z,{fullWidth:!0,children:(0,I.jsx)(h.Z,{id:"storyId",name:"storyId",displayEmpty:!0,value:_.values.storyId,onChange:_.handleChange,inputProps:{"aria-label":"Without label"},children:n.map((function(e,t){return(0,I.jsxs)(f.Z,{value:e.id,children:[e.id," - ",e.title]},t)}))})})})]})}),(0,I.jsx)(a.ZP,{item:!0,xs:12,children:(0,I.jsxs)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,I.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,I.jsx)(s.Z,{variant:"subtitle1",children:"State:"})}),(0,I.jsx)(a.ZP,{item:!0,xs:12,sm:8,children:(0,I.jsx)(d.Z,{fullWidth:!0,children:(0,I.jsx)(h.Z,{id:"columnId",name:"columnId",displayEmpty:!0,value:_.values.columnId,onChange:_.handleChange,inputProps:{"aria-label":"Without label"},children:b.map((function(e,t){return(0,I.jsx)(f.Z,{value:e.id,children:e.title},t)}))})})})]})}),(0,I.jsx)(a.ZP,{item:!0,xs:12,children:(0,I.jsxs)(a.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,I.jsx)(a.ZP,{item:!0,xs:12,sm:4,children:(0,I.jsx)(s.Z,{variant:"subtitle1",children:"Attachments:"})}),(0,I.jsx)(a.ZP,{item:!0,xs:12,sm:8,children:(0,I.jsx)(y.default,{attachments:_.values.attachments})})]})}),(0,I.jsx)(a.ZP,{item:!0,xs:12,children:(0,I.jsx)(w.Z,{children:(0,I.jsx)(x.Z,{fullWidth:!0,variant:"contained",type:"submit",children:"Save"})})})]})})})}},74026:function(e,t,r){"use strict";r.r(t);var n=r(59499),i=r(67294),a=r(90948),o=r(41796),s=r(87357),l=r(55113),c=r(93946),d=r(11057),u=r(96486),p=r(32512),m=r(44510),h=r(6103),f=r(85893);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=(0,a.ZP)("div")((function(e){var t=e.theme;return{width:64,height:64,fontSize:24,display:"flex",cursor:"pointer",alignItems:"center",justifyContent:"center",margin:t.spacing(.5),borderRadius:t.shape.borderRadius,"&:hover":{opacity:.72}}}));function Z(){var e=(0,i.useState)([]),t=e[0],r=e[1],n=(0,i.useCallback)((function(e){r(e.map((function(e){var t=new FileReader;return t.onabort=function(){return console.log("file reading was aborted")},t.onerror=function(){return console.log("file reading has failed")},t.onload=function(){return console.log("file reading result")},t.readAsArrayBuffer(e),Object.assign(e,{preview:URL.createObjectURL(e)})})))}),[r]),a=(0,p.uI)({onDrop:n}),x=a.getRootProps,Z=a.getInputProps,b=a.isDragActive;return(0,f.jsxs)(f.Fragment,{children:[t.map((function(e){var n=e.name,i=e.preview,a=(0,u.isString)(e)?e:n;return(0,f.jsxs)(s.Z,{sx:{p:0,m:.5,width:64,height:64,borderRadius:.25,overflow:"hidden",position:"relative"},children:[(0,f.jsx)(l.Z,{variant:"outlined",component:"img",src:(0,u.isString)(e)?e:i,sx:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",borderRadius:1}}),(0,f.jsx)(s.Z,{sx:{top:6,right:6,position:"absolute"},children:(0,f.jsx)(c.Z,{size:"small",onClick:function(){return function(e){var n=t.filter((function(t){return t!==e}));r(n)}(e)},sx:{p:"1px",color:"common.white",bgcolor:function(e){return(0,o.Fq)(e.palette.grey[900],.72)},"&:hover":{bgcolor:function(e){return(0,o.Fq)(e.palette.grey[900],.48)}}},children:(0,f.jsx)(m.Z,{})})})]},a)})),(0,f.jsxs)(v,g(g({},x()),{},{sx:g({},b&&{opacity:.72}),children:[(0,f.jsx)("input",g({},Z())),(0,f.jsx)(d.Z,{variant:"outlined",size:"large",sx:{p:2.25},children:(0,f.jsx)(h.Z,{})})]}))]})}t.default=function(){return(0,f.jsx)(s.Z,{sx:{display:"flex"},children:(0,f.jsx)(Z,{})})}},70792:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/application/kanban/Board/EditItem",function(){return r(30061)}])}},function(e){e.O(0,[3662,939,4231,2912,2175,8722,5306,4220,5675,4278,7664,9774,2888,179],(function(){return t=70792,e(e.s=t);var t}));var t=e.O();_N_E=t}]);